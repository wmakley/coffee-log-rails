<%= form_with(model: object,
              url: my_account_path,
              html: {
                id: "my_account_form"
              }) do |f| %>

  <% if object.errors[:base].present? %>
    <div class="text-danger">
      <%= object.errors.full_messages_for(:base).to_sentence %>.
    </div>
  <% end %>

  <div class="mb-3">
    <%= input f, :display_name,
              label: "Display Name",
              required: true,
              input_html: {
                placeholder: "Display name",
                minlength: 5,
                maxlength: 100,
              }
    %>
  </div>
  <div class="mb-3">
    <%= input f, :email, as: :email_field, label: "Email",
              input_html: {
                maxlength: 255,
                class: "form-control #{f.object.email_verified? ? 'is-valid' : 'is-invalid'}"
              } %>
    <% if f.object.email_verified? %>
      <div class="valid-feedback">Verified!</div>
    <% else %>
      <div class="invalid-feedback">Not Verified. Check your email for verification link!</div>
    <% end %>
  </div>
  <div class="mb-3">
    <%= input f, :password, as: :password_field, label: "Password", input_html: {
        minlength: 6,
        maxlength: 255,
    } %>
  </div>
  <div class="mb-3">
    <%= input f, :password_confirmation, as: :password_field, label: "Password Confirmation", input_html: {
      minlength: 6,
      maxlength: 255,
    } %>
  </div>

  <p>
    <button type="submit" class="btn btn-primary">
      Save Account
    </button>
  </p>
<% end %>
