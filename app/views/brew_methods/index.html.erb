<h1>Brew Methods</h1>
<% if allowed_to?(:create?, BrewMethod) %>
  <p>
    <%= link_to "Add New Brew Method", new_brew_method_path, class: "btn btn-success" %>
  </p>
<% end %>
<table class="table table-striped">
<thead>
<tr>
  <th>ID</th>
  <th>Name</th>
  <th>Default Brew Ratio</th>
  <th>Created At</th>
  <th>Updated At</th>
  <th>
    <span class="visually-hidden">Actions</span>
  </th>
</tr>
</thead>
<tbody>
  <% @brew_methods.each do |brew_method| %>
  <tr>
    <td><%= brew_method.id %></td>
    <td><%= brew_method.name %></td>
    <td><%= brew_method.default_brew_ratio %></td>
    <td><%= brew_method.created_at.to_formatted_s(:short) %></td>
    <td><%= brew_method.updated_at.to_formatted_s(:short) %></td>
    <td>
      <%= link_to "Edit", edit_brew_method_path(brew_method), class: "btn btn-sm btn-success" if allowed_to?(:edit?, brew_method) %>
      <%= link_to "Delete", brew_method_path(brew_method),
                  class: "btn btn-sm btn-danger",
                  data: {
                    'turbo-method' => :delete,
                    'controller' => 'confirmation',
                    'confirmation-message-value' => "Are you sure you want to delete this brew method? This cannot be undone.",
                    'action' => 'confirmation#confirm'
                  } if allowed_to?(:destroy?, brew_method) %>
    </td>
  </tr>
  <% end %>
</tbody>
</table>
