<% content_for :head do %>
  <%= recaptcha_enterprise_script %>
<% end %>

<%= form_with(model: object, url: auth_password_reset_request_path, html: {
  id: 'request-password-reset',
  data: {
    controller: "recaptcha-v3",
    recaptcha_v3_target: "form",
    recaptcha_v3_action_value: "request_password_reset",
    recaptcha_v3_site_key_value: Recaptcha.configuration.site_key,
    action: "submit->recaptcha-v3#submit",
    turbo: "false",
  }
}) do |f| %>
  <%= recaptcha_response_field %>

  <div class="mb-3">
    <%= input f, :email, as: :email_field,
              label: "Enter your email address:",
              required: true,
              input_html: {
                class: "form-control form-control-lg",
                placeholder: "Email address",
                autofocus: true,
              }
    %>
  </div>
  <p>
    <%= f.submit "Submit", class: "btn btn-primary btn-lg", data: { recaptcha_v3_target: "submit" } %>
    <%= cancel_button root_path, class: "btn-lg" %>
  </p>
<% end %>
