<%= form_with(model: object, url: url, html: {
  data: {
    controller: "log-entry-form"
  }
}) do |f| %>
  <% if object.errors.present? %>
    <div class="text-danger">
      <%= object.errors.full_messages.to_sentence %>.
    </div>
  <% end %>

  <% if local_assigns[:show_datetime] %>
    <div class="mb-3">
      <%= f.label :created_at, "Date and Time" %>
      <%= f.datetime_select :created_at %>
    </div>
  <% end %>

  <div class="mb-3">
    <%= f.label :coffee, "Coffee", class: "form-label" %>
    <%= f.text_field :coffee,
                     class: "form-control",
                     required: true,
                     data: {
                       action: "input->log-entry-form#enableOrDisableSubmit",
                       log_entry_form_target: "coffeeTextBox"
                     } %>
    <%= invalid_message(object, :coffee) %>
  </div>
  <div class="mb-3">
    <%= f.label :brew_method, "Brew Method", class: "form-label" %>
    <%= f.select :brew_method,
                 ["French Press", "Pour-Over", "Moka Pot", "Drip", "Other"],
                 { include_blank: "", },
                 class: "form-select"
    %>
    <%= invalid_message(object, :method) %>
  </div>
  <div class="row mb-3">
    <div class="col">
      <%= f.label :coffee_grams %>
      <%= f.number_field :coffee_grams, class: "form-control", placeholder: "Grams of coffee" %>
      <%= invalid_message(object, :coffee_grams) %>
    </div>
    <div class="col">
      <%= f.label :water_grams %>
      <%= f.number_field :water_grams, class: "form-control", placeholder: "Grams of water" %>
      <%= invalid_message(object, :water_grams) %>
    </div>
  </div>
  <div class="row mb-3">
    <div class="col">
      <%= f.label :tasting, "Grind", class: "form-label" %>
      <%= f.text_field :grind, class: "form-control" %>
      <%= invalid_message(object, :grind) %>
    </div>
    <div class="col">
      <%= f.label :water, "Water", class: "form-label" %>
      <%= f.text_field :water, class: "form-control" %>
      <%= invalid_message(object, :water) %>
    </div>
  </div>
  <div class="mb-3">
    <%= f.label :tasting, "Tasting Notes", class: "form-label" %>
    <%= f.text_area :tasting, class: "form-control" %>
    <%= invalid_message(object, :tasting_notes) %>
  </div>
  <p>
    <button type="submit" class="btn btn-primary" data-log-entry-form-target="submitButton">
      <%= object.new_record? ? "Create" : "Update" %> Log Entry
    </button>

    <% if local_assigns[:cancel_url] %>
      <%= link_to("Cancel", cancel_url, class: "btn btn-secondary") %>
    <% end %>
  </p>
<% end %>
