<% content_for :head do %>
  <%= recaptcha_enterprise_script %>
<% end %>

<%= form_with(model: object, url: url, html: {
  id: "login-form",
  data: {
    controller: "recaptcha-v3",
    recaptcha_v3_target: "form",
    recaptcha_v3_action_value: "login",
    recaptcha_v3_site_key_value: Recaptcha.configuration.site_key,
    action: "submit->recaptcha-v3#submit",
    turbo: "false",
  }
}) do |f| %>
  <%= recaptcha_response_field %>

  <div class="form-floating mb-3">
    <%= input f, :username,
              as: :text_field,
              label: "Username",
              required: true,
              input_first: true,
              input_html: {
                class: "form-control form-control-lg",
                maxlength: 255,
                placeholder: "Username"
              }
    %>
  </div>

  <div class="form-floating mb-3">
    <%= input f, :password,
              as: :password_field,
              label: "Password",
              required: true,
              input_first: true,
              input_html: {
                class: "form-control form-control-lg",
                maxlength: 255,
                placeholder: "Password"
              }
    %>
  </div>

  <p>
    <%= link_to "Forgot password", new_password_reset_request_path %>
  </p>

  <p>
    <%= f.submit "Login", id: "submit-btn", class: "btn btn-primary btn-lg", data: { recaptcha_v3_target: "submit" } %>
  </p>
<% end %>
